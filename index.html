<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Praneeth Koduru | Portfolio</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
</head>
<body class="dark-mode">
  <div id="tsparticles"></div>

  <!-- 🌐 Top Navigation -->
  <!-- ... (no change here, keeping your existing nav and content as-is) ... -->

  <!-- ⬇️ Place your full portfolio content here like before (unchanged) -->

  <!-- 👇 Particle Enhancement Script -->
  <script>
    let particlesInstance;
    let scrollVelocity = 0;
    let lastScrollY = window.scrollY;
    let lastTime = performance.now();

    // Load particles
    tsParticles.load("tsparticles", {
      fullScreen: { enable: true, zIndex: -10 },
      background: { color: { value: "transparent" } },
      fpsLimit: 60,
      interactivity: {
        detectsOn: "canvas",
        events: {
          onHover: { enable: true, mode: "repulse" },
          onClick: { enable: true, mode: "push" },
          resize: true
        },
        modes: {
          repulse: { distance: 100, duration: 0.4 },
          push: { quantity: 4 }
        }
      },
      particles: {
        color: { value: ["#BB86FC", "#03A9F4", "#FF9800", "#F50057"] },
        links: {
          enable: true,
          color: "#ffffff",
          distance: 120,
          opacity: 0.2,
          width: 1
        },
        move: {
          enable: true,
          speed: 0.5,
          direction: "none",
          outModes: { default: "out" },
          parallax: { enable: true, force: 100, smooth: 10 }
        },
        number: {
          density: { enable: true, area: 800 },
          value: 100
        },
        opacity: { value: 0.6 },
        shape: { type: ["circle", "triangle", "edge"] },
        size: { value: { min: 1, max: 3 } }
      },
      detectRetina: true
    }).then(instance => {
      particlesInstance = instance;
    });

    // Update scroll speed & apply to particles
    function animateParticleSpeed() {
      const currentY = window.scrollY;
      const currentTime = performance.now();
      const deltaY = Math.abs(currentY - lastScrollY);
      const deltaTime = (currentTime - lastTime) / 1000;

      const speed = deltaTime > 0 ? deltaY / deltaTime : 0;
      scrollVelocity = speed;

      const adjustedSpeed = Math.min(4, 0.5 + scrollVelocity / 300);

      if (particlesInstance) {
        particlesInstance.options.particles.move.speed = adjustedSpeed;
        particlesInstance.refresh();
      }

      lastScrollY = currentY;
      lastTime = currentTime;

      requestAnimationFrame(animateParticleSpeed);
    }

    requestAnimationFrame(animateParticleSpeed);
  </script>
</body>
</html>
